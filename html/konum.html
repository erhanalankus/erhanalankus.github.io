<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="../css/StyleSheet.css" />
    <title>Erhan'ın meşhur sitesi</title>
    <meta charset="UTF-8">
</head>

<body>
    <header>
        <h1>
            <a href="../index.html">Erhan'ın Sitesi</a>
        </h1>
    </header>

    <nav>
        <ul id="navbar">
            <li>
                <a href="loto.html">Loto</a>
            </li>
            <li>
                <a href="kart.html">Kart eşi bulma oyunu</a>
            </li>
            <li>
                <a href="konum.html">Konum Tespit</a>
            </li>
        </ul>
    </nav>

    <aside>
        <p>Bu site, evimde bulunan Orange Pi Zero üzerinden sunulmaktadır.</p>
    </aside>

    <article>
        <button onclick="myFunction()">Konum tespit</button>
        <ul id="myList">

        </ul>
        <hr>
        <button type="button" onclick="clicked()">Check login status</button>
        <br>
        <hr>
        <div class="fb-login-button" data-width="100" data-max-rows="1" data-size="large" data-button-type="continue_with" data-show-faces="false"
            data-auto-logout-link="true" data-use-continue-as="true"></div>
        <br>
        <hr>
        <div id="spinner" style="
        background: #4267b2;
        border-radius: 5px;
        color: white;
        height: 40px;
        text-align: center;
        width: 250px;">
            Loading            
        </div>
    </article>

    <footer>
        <p>Hiç bir hakkı saklı değildir. 2014.</p>
    </footer>
    <script>
        window.fbAsyncInit = function () {
            FB.init({
                appId: '347443169079736',
                cookie: true,
                xfbml: true,
                version: 'v2.12'
            });

            FB.AppEvents.logPageView();

        };

        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = 'https://connect.facebook.net/en_US/sdk.js';
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));

        function clicked() {
            FB.getLoginStatus(function (response) {
                console.log(response);
            });
        }

        var finished_rendering = function () {
            console.log("finished rendering plugins");
            var spinner = document.getElementById("spinner");
            spinner.removeAttribute("style");
            spinner.removeChild(spinner.childNodes[0]);
        }
        FB.Event.subscribe('xfbml.render', finished_rendering);


        if ("geolocation" in navigator) {
            document.getElementById('geo').innerHTML = 'geolocation is available';
        } else {
            document.getElementById('geo').innerHTML = 'geolocation is not available';
        }

        var options = {
            enableHighAccuracy: true,
            timeout: 10000,
            maximumAge: 0
        };

        function success(pos) {
            var crd = pos.coords;
            printText('Your current position is:');
            printText(`Latitude : ${crd.latitude}`);
            printText(`Longitude: ${crd.longitude}`);
            printText(`More or less ${crd.accuracy} meters.`);
        };

        function error(err) {
            printText(`ERROR(${err.code}): ${err.message}`);
        };

        function myFunction() {
            printText("Starting...");
            navigator.geolocation.getCurrentPosition(success, error, options);
        }

        function printText(text) {
            var node = document.createElement("LI");
            var textnode = document.createTextNode(text);
            node.appendChild(textnode);
            document.getElementById("myList").appendChild(node);
        }
    </script>

</body>

</html>